import{__getNamedExports as X}from"../../../__next-on-pages-dist__/webpack/933142179fd71ed48574658d173df2a3.js";import{__getNamedExports as G}from"../../../__next-on-pages-dist__/webpack/d29defd799b3bca27cb14615b03700e5.js";import{__getNamedExports as H}from"../../../__next-on-pages-dist__/webpack/31e5355a140e8ca54f1eb72e1ae538b8.js";import{__getNamedExports as q}from"../../../__next-on-pages-dist__/webpack/836af94d51e22d7d1aeb0181a021dfb8.js";import{__getNamedExports as W}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var g=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/visit-stats"),j=X(g,g,g),V=j.__chunk_26195,J=j.__chunk_2067,z=j.__chunk_5558,Q=j.__chunk_45303,Y=j.__chunk_25228,p=G(g,g,g),Z=p.__chunk_71730,ee=p.__chunk_3818,_e=p.__chunk_77037,te=p.__chunk_59573,ne=p.__chunk_27701,ce=p.__chunk_70662,oe=p.__chunk_44101,re=p.__chunk_86776,se=p.__chunk_3665,ae=p.__chunk_7444,ue=p.__chunk_64591,ie=p.__chunk_17983,he=p.__chunk_68408,pe=p.__chunk_12561,ke=p.__chunk_22988,de=p.__chunk_29985,ge=p.__chunk_74155,le=p.__chunk_65996,fe=p.__chunk_10676,S=H(g,g,g),xe=S.__chunk_6947,me=S.__chunk_50513,c=q(g,g,g),Ee=c.__chunk_95405,ve=c.__chunk_47322,be=c.__chunk_52296,ye=c.__chunk_12594,Ne=c.__chunk_26735,Oe=c.__chunk_28219,we=c.__chunk_5577,Re=c.__chunk_39254,je=c.__chunk_79206,Pe=c.__chunk_80989,Ie=c.__chunk_31863,Te=c.__chunk_93039,Ce=c.__chunk_90335,Ae=c.__chunk_48042,Se=c.__chunk_67765,$e=c.__chunk_66991,Fe=c.__chunk_78816,Le=c.__chunk_46631,Me=c.__chunk_44828,De=c.__chunk_24834,Ue=c.__chunk_70828,Ke=c.__chunk_15927,Be=c.__chunk_18439,Xe=c.__chunk_44363,Ge=c.__chunk_42039,He=c.__chunk_18264,qe=c.__chunk_21583,We=c.__chunk_87908,Ve=c.__chunk_48949,Je=c.__chunk_80796,ze=c.__chunk_71651,Qe=c.__chunk_65105,Ye=c.__chunk_29642,Ze=c.__chunk_85028,e_=c.__chunk_69548,__=c.__chunk_56914,t_=c.__chunk_97960,n_=c.__chunk_74337,c_=c.__chunk_38819,$=W(g,g,g),o_=$.__NEXT_FONT_MANIFEST,r_=$.__REACT_LOADABLE_MANIFEST,k_=((E,R,s_)=>(R._ENTRIES={},E.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-7b809a2913128647.js","static/chunks/fd9d1056-8f18473323b161ec.js","static/chunks/30-cbcbda74614a06af.js","static/chunks/main-app-9d35cd35334582d6.js"],pages:{"/_app":["static/chunks/webpack-7b809a2913128647.js","static/chunks/framework-00a8ba1a63cfdc9e.js","static/chunks/main-cf7b8af5dff59d53.js","static/chunks/pages/_app-15e2daefa259f0b5.js"],"/_error":["static/chunks/webpack-7b809a2913128647.js","static/chunks/framework-00a8ba1a63cfdc9e.js","static/chunks/main-cf7b8af5dff59d53.js","static/chunks/pages/_error-28b803cb2479b966.js"]},ampFirstPages:[]},E.__BUILD_MANIFEST.lowPriorityFiles=["/static/eXTSdVg4XJ41qFowj1kk1/_buildManifest.js",,"/static/eXTSdVg4XJ41qFowj1kk1/_ssgManifest.js"],E.__REACT_LOADABLE_MANIFEST=r_,E.__NEXT_FONT_MANIFEST=o_,E.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var v={},O={};function n(_){var s=O[_];if(s!==void 0)return s.exports;var t=O[_]={exports:{}},u=!0;try{v[_].call(t.exports,t,t.exports,n),u=!1}finally{u&&delete O[_]}return t.exports}n.m=v,n.amdO={},(()=>{var _=[];n.O=(s,t,u,h)=>{if(t){h=h||0;for(var a=_.length;a>0&&_[a-1][2]>h;a--)_[a]=_[a-1];_[a]=[t,u,h];return}for(var i=1/0,a=0;a<_.length;a++){for(var[t,u,h]=_[a],k=!0,x=0;x<t.length;x++)i>=h&&Object.keys(n.O).every(m=>n.O[m](t[x]))?t.splice(x--,1):(k=!1,h<i&&(i=h));if(k){_.splice(a--,1);var l=u();l!==void 0&&(s=l)}}return s}})(),n.n=_=>{var s=_&&_.__esModule?()=>_.default:()=>_;return n.d(s,{a:s}),s},(()=>{var _,s=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(t,u){if(1&u&&(t=this(t)),8&u||typeof t=="object"&&t&&(4&u&&t.__esModule||16&u&&typeof t.then=="function"))return t;var h=Object.create(null);n.r(h);var a={};_=_||[null,s({}),s([]),s(s)];for(var i=2&u&&t;typeof i=="object"&&!~_.indexOf(i);i=s(i))Object.getOwnPropertyNames(i).forEach(k=>a[k]=()=>t[k]);return a.default=()=>t,n.d(h,a),h}})(),n.d=(_,s)=>{for(var t in s)n.o(s,t)&&!n.o(_,t)&&Object.defineProperty(_,t,{enumerable:!0,get:s[t]})},n.e=()=>Promise.resolve(),n.g=function(){if(typeof R=="object")return R;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(_,s)=>Object.prototype.hasOwnProperty.call(_,s),n.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},(()=>{var _={993:0};n.O.j=u=>_[u]===0;var s=(u,h)=>{var a,i,[k,x,l]=h,e=0;if(k.some(o=>_[o]!==0)){for(a in x)n.o(x,a)&&(n.m[a]=x[a]);if(l)var d=l(n)}for(u&&u(h);e<k.length;e++)i=k[e],n.o(_,i)&&_[i]&&_[i][0](),_[i]=0;return n.O(d)},t=E.webpackChunk_N_E=E.webpackChunk_N_E||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})()})(),(E.webpackChunk_N_E=E.webpackChunk_N_E||[]).push([[567],{38819:c_,74337:n_,97960:t_,56914:__,69548:e_,85028:Ze,29642:Ye,65105:Qe,71651:ze,80796:Je,48949:Ve,87908:We,21583:qe,18264:He,42039:Ge,44363:Xe,18439:Be,15927:Ke,70828:Ue,24834:De,44828:Me,46631:Le,78816:Fe,66991:$e,67765:Se,48042:Ae,90335:Ce,93039:Te,31863:Ie,80989:Pe,79206:je,39254:Re,5577:we,28219:Oe,26735:Ne,12594:ye,52296:be,25228:Y,45303:Q,47322:ve,5558:z,95405:Ee}]),(E.webpackChunk_N_E=E.webpackChunk_N_E||[]).push([[309],{10676:fe,65996:le,74155:ge,29985:de,50513:me,6947:xe,22988:ke,12561:pe,68408:he,17983:ie,64591:ue,7444:ae,3665:se,86776:re,44101:oe,70662:ce,27701:ne,59573:te,77037:_e,3818:ee,71730:Z}]),(E.webpackChunk_N_E=E.webpackChunk_N_E||[]).push([[832],{2067:J,26195:V,61509:(v,O,n)=>{"use strict";n.r(O),n.d(O,{ComponentMod:()=>P,default:()=>F});var _={};n.r(_),n.d(_,{GET:()=>o,POST:()=>r,runtime:()=>k});var s={};n.r(s),n.d(s,{originalPathname:()=>b,patchFetch:()=>N,requestAsyncStorage:()=>f,routeModule:()=>m,serverHooks:()=>w,staticGenerationAsyncStorage:()=>y});var t=n(17983),u=n(12561),h=n(44828),a=n(46631),i=n(29985);let k="edge",x="https://api.openpanel.dev",l=process.env.NEXT_PUBLIC_OPENPANEL_CLIENT_ID,e=process.env.OPENPANEL_API_SECRET_ID,d=process.env.OPENPANEL_PROJECT_ID;async function o(){try{let I=await fetch(`${x}/export/events?projectId=coreychiu&event=screen_view`,{headers:{"openpanel-client-id":l,"openpanel-client-secret":e}});if(!I.ok)throw Error("Failed to fetch visit stats");let L=await I.json(),M=L?.meta?.totalCount,C=new Date,T=new Date(C);T.setDate(T.getDate()-1);let D=T.toISOString().split("T")[0],U=C.toISOString().split("T")[0],A=await fetch(`${x}/export/events?projectId=${d}&event=screen_view&start=${D}&end=${U}`,{headers:{"openpanel-client-id":l,"openpanel-client-secret":e}});if(!A.ok)throw Error("Failed to fetch visit stats");let K=await A.json(),B=K?.meta?.totalCount;return i.xk.json({totalUV:M,dailyUV:B})}catch{return i.xk.json({error:"Failed to fetch visit stats"},{status:500})}}async function r(){return i.xk.json({success:!0})}let m=new u.AppRouteRouteModule({definition:{kind:h.x.APP_ROUTE,page:"/api/visit-stats/route",pathname:"/api/visit-stats",filename:"route",bundlePath:"app/api/visit-stats/route"},resolvedPagePath:"/Users/jingguan/windsurfprogram/geren/temp/src/app/api/visit-stats/route.ts",nextConfigOutput:"standalone",userland:_}),{requestAsyncStorage:f,staticGenerationAsyncStorage:y,serverHooks:w}=m,b="/api/visit-stats/route";function N(){return(0,a.XH)({serverHooks:w,staticGenerationAsyncStorage:y})}let P=s,F=t.a.wrap(m)}},v=>{var O=_=>v(v.s=_);v.O(0,[567,309],()=>O(61509));var n=v.O();(R._ENTRIES=typeof R._ENTRIES>"u"?{}:R._ENTRIES)["middleware_app/api/visit-stats/route"]=n}]),function(){let v={exports:{},loaded:!1};return function(n,_){var s=Object.defineProperty,t=e=>s(e,"__esModule",{value:!0}),u=(e,d)=>{t(e);for(var o in d)s(e,o,{get:d[o],enumerable:!0})};u(_,{default:()=>i});function h(e){let d={};return e&&e.forEach((o,r)=>{d[r]=o,r.toLowerCase()==="set-cookie"&&(d[r]=a(o))}),d}function a(e){let d=[],o=0,r,m,f,y,w;function b(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function N(){return m=e.charAt(o),m!=="="&&m!==";"&&m!==","}for(;o<e.length;){for(r=o,w=!1;b();)if(m=e.charAt(o),m===","){for(f=o,o+=1,b(),y=o;o<e.length&&N();)o+=1;o<e.length&&e.charAt(o)==="="?(w=!0,o=y,d.push(e.substring(r,f)),r=o):o=f+1}else o+=1;(!w||o>=e.length)&&d.push(e.substring(r,e.length))}return d}function i(e){let d=e.staticRoutes.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page})),o=e.dynamicRoutes?.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page}))||[];return async function(r,m){let f=new URL(r.url).pathname,y={};if(e.nextConfig?.basePath&&f.startsWith(e.nextConfig.basePath)&&(f=f.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let b of e.nextConfig.i18n.locales){let N=new RegExp(`^/${b}($|/)`,"i");if(f.match(N)){f=f.replace(N,"/")||"/";break}}for(let b of d)if(b.regexp.exec(f)){y.name=b.page;break}if(!y.name){let b=x(f);for(let N of o||[]){if(b&&!x(N.page))continue;let P=N.regexp.exec(f);if(P){y={name:N.page,params:P.groups};break}}}let w=await R._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:r.url,method:r.method,headers:h(r.headers),ip:k(r.headers,l.Ip),geo:{city:k(r.headers,l.City,!0),country:k(r.headers,l.Country,!0),latitude:k(r.headers,l.Latitude),longitude:k(r.headers,l.Longitude),region:k(r.headers,l.Region,!0)},nextConfig:e.nextConfig,page:y,body:r.body}});return m.waitUntil(w.waitUntil),w.response}}function k(e,d,o=!1){let r=e.get(d)||void 0;return o&&r?decodeURIComponent(r):r}function x(e){return e==="/api"||e.startsWith("/api/")}var l;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(l||(l={}))}(v,v.exports),v.exports}.call({}).default({name:"app/api/visit-stats/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/blogs",regex:"^/blogs(?:/)?$",routeKeys:{},namedRegex:"^/blogs(?:/)?$"},{page:"/changelog",regex:"^/changelog(?:/)?$",routeKeys:{},namedRegex:"^/changelog(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/feed",regex:"^/feed(?:/)?$",routeKeys:{},namedRegex:"^/feed(?:/)?$"},{page:"/friends",regex:"^/friends(?:/)?$",routeKeys:{},namedRegex:"^/friends(?:/)?$"},{page:"/projects",regex:"^/projects(?:/)?$",routeKeys:{},namedRegex:"^/projects(?:/)?$"}],dynamicRoutes:[{page:"/blogs/[slug]",regex:"^/blogs/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/blogs/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(g,g,g);export{k_ as default};
